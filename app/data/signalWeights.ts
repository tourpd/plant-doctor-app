// app/data/signalWeights.ts

/**
 * SignalType
 * - STEP1 질문 / 이미지 관찰 / 답변에서 추출되는 "증거 신호"
 * - calcSignalScore 에서 가중치 계산의 기준이 됨
 */

export type SignalType =
  // 🔥 해충 직접 증거
  | "PEST_VECTOR"        // 벌레 실물, 유충, 응애, 진딧물 등

  // 🔥 병해 직접 증거
  | "PATHOGEN_SPECIFIC"  // 병반, 곰팡이, 썩음, 물러짐 등

  // 확산 특성
  | "CONTAGIOUS"         // 주변 개체로 빠르게 번짐

  // 환경/수분 연관
  | "MOISTURE_RELATED"   // 과습, 습도, 배수 불량

  // 환경 스트레스
  | "ENV_STRESS"         // 온도, 비료, 가뭄, 냉해 등

  // 간접 증거
  | "INDIRECT";          // 추정, 애매함, 잘 모르겠음


/**
 * SIGNAL_WEIGHTS
 *
 * ❗ 핵심 설계 원칙
 * 1. 직접 증거 > 간접 증거
 * 2. 해충/병해는 "한 방"이 있어야 산다
 * 3. ENV는 절대 단독 1등 금지
 */

export const SIGNAL_WEIGHTS: Record<SignalType, number> = {
  /* =========================
     🔥 직접 증거 (판결급)
  ========================= */

  // 벌레가 보이면 게임 끝
  PEST_VECTOR: 9.0,

  // 병반, 곰팡이, 썩음
  PATHOGEN_SPECIFIC: 8.0,


  /* =========================
     ⚠️ 강한 보조 증거
  ========================= */

  // 전염 양상
  CONTAGIOUS: 4.0,

  // 습도/과습 연관
  MOISTURE_RELATED: 3.0,


  /* =========================
     ⚠️ 환경 스트레스
  ========================= */

  // 환경 문제는 "가능성"이지 확정 아님
  ENV_STRESS: 2.0,


  /* =========================
     ❌ 간접/불확실
  ========================= */

  // 질문 많이 했다고 점수 쌓이지 않게
  INDIRECT: 0.5,
};